<div class="profile-container">
  <!-- Profile Header -->
  <div class="profile-header">
    <div class="profile-avatar">
      <div class="avatar-circle">
        {{ getUserInitials() }}
      </div>
    </div>
    <div class="profile-info">
      <h1 class="profile-name">{{ getUserFullName() }}</h1>
      <p class="profile-role">{{ getRoleDisplayName() }}</p>
      <p class="profile-email">{{ currentUser?.email }}</p>
    </div>
  </div>

  <!-- Success/Error Messages -->
  <div *ngIf="profileUpdateSuccess" class="alert alert-success">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
    </svg>
    Profile updated successfully!
  </div>



  <div *ngIf="errorMessage" class="alert alert-error">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
      <line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2" />
      <line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2" />
    </svg>
    {{ errorMessage }}
  </div>

  <div class="profile-layout">
    <!-- Profile Sidebar -->
    <div class="profile-sidebar">
      <nav class="profile-nav">
        <button *ngFor="let section of profileSections" (click)="setActiveSection(section.id)" class="profile-nav-item"
          [class.active]="activeSection === section.id">
          <div class="nav-icon">
            <!-- User Icon -->
            <svg *ngIf="section.icon === 'user'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" />
              <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" />
            </svg>
            <!-- Mail Icon -->
            <svg *ngIf="section.icon === 'mail'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
                stroke="currentColor" stroke-width="2" />
              <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2" />
            </svg>
            <!-- Briefcase Icon -->
            <svg *ngIf="section.icon === 'briefcase'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" stroke="currentColor" stroke-width="2" />
            </svg>
            <!-- File Icon -->
            <svg *ngIf="section.icon === 'file'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor"
                stroke-width="2" />
              <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" />
            </svg>
            <!-- Shield Icon -->
            <svg *ngIf="section.icon === 'shield'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="2" />
            </svg>
            <!-- Settings Icon -->
            <svg *ngIf="section.icon === 'settings'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" />
              <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                stroke="currentColor" stroke-width="2" />
            </svg>
            <!-- Book Icon -->
            <svg *ngIf="section.icon === 'book'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke="currentColor" stroke-width="2" />
              <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" stroke="currentColor"
                stroke-width="2" />
            </svg>
            <!-- Work Icon -->
            <svg *ngIf="section.icon === 'work'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" stroke="currentColor" stroke-width="2" />
            </svg>
            <!-- Building Icon -->
            <svg *ngIf="section.icon === 'building'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M3 21h18" stroke="currentColor" stroke-width="2" />
              <path d="M5 21V7l8-4v18" stroke="currentColor" stroke-width="2" />
              <path d="M19 21V11l-6-4" stroke="currentColor" stroke-width="2" />
            </svg>
            <!-- Users Icon -->
            <svg *ngIf="section.icon === 'users'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" />
              <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" />
              <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" />
            </svg>
            <!-- Shield Check Icon -->
            <svg *ngIf="section.icon === 'shield-check'" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="2" />
              <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" />
            </svg>
          </div>
          <div class="nav-content">
            <span class="nav-title">{{ section.title }}</span>
            <span class="nav-description">{{ section.description }}</span>
          </div>
        </button>
      </nav>
    </div>

    <!-- Profile Content -->
    <div class="profile-content">
      <!-- Personal Information Section -->
      <div *ngIf="activeSection === 'personal'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">{{ currentUser?.role === 'company' ? 'Company Information' : 'Personal Information'
            }}</h2>
          <button *ngIf="!isEditingProfile" (click)="toggleEditProfile()" class="btn-secondary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor"
                stroke-width="2" />
              <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor"
                stroke-width="2" />
            </svg>
            {{ currentUser?.role === 'company' ? 'Edit Company Information' : 'Edit Profile' }}
          </button>
        </div>

        <form *ngIf="isEditingProfile" [formGroup]="profileForm" (ngSubmit)="onProfileSubmit()"
          class="profile-edit-form">
          <!-- Basic Information Card -->
          <div class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" />
                  <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>{{ currentUser?.role === 'company' ? 'Contact Information' : 'Basic Information' }}</h3>
                <p>{{ currentUser?.role === 'company' ? 'Company contact details and representative information' : 'Your
                  personal details and contact information' }}</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="form-row">
                <div class="form-group">
                  <label for="firstName" class="form-label">First Name *</label>
                  <input type="text" id="firstName" formControlName="firstName" class="form-input"
                    [class.error]="getFieldError('firstName')">
                  <div *ngIf="getFieldError('firstName')" class="field-error">
                    {{ getFieldError('firstName') }}
                  </div>
                </div>
                <div class="form-group">
                  <label for="lastName" class="form-label">Last Name *</label>
                  <input type="text" id="lastName" formControlName="lastName" class="form-input"
                    [class.error]="getFieldError('lastName')">
                  <div *ngIf="getFieldError('lastName')" class="field-error">
                    {{ getFieldError('lastName') }}
                  </div>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="email" class="form-label">Email Address *</label>
                  <input type="email" id="email" formControlName="email" class="form-input"
                    [class.error]="getFieldError('email')">
                  <div *ngIf="getFieldError('email')" class="field-error">
                    {{ getFieldError('email') }}
                  </div>
                </div>
                <div class="form-group">
                  <label for="phone" class="form-label">Phone Number</label>
                  <input type="tel" id="phone" formControlName="phone" class="form-input"
                    [class.error]="getFieldError('phone')" placeholder="+1 (555) 123-4567">
                  <div *ngIf="getFieldError('phone')" class="field-error">
                    {{ getFieldError('phone') }}
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Professional Links Card -->
          <div class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" stroke="currentColor"
                    stroke-width="2" />
                  <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" stroke="currentColor"
                    stroke-width="2" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>Professional Links</h3>
                <p>Your online presence and portfolio links</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="form-group">
                <label for="linkedinUrl" class="form-label">LinkedIn Profile</label>
                <input type="url" id="linkedinUrl" formControlName="linkedinUrl" class="form-input"
                  placeholder="https://linkedin.com/in/username">
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="portfolioUrl" class="form-label">Portfolio Website</label>
                  <input type="url" id="portfolioUrl" formControlName="portfolioUrl" class="form-input"
                    placeholder="https://yourportfolio.com">
                </div>
                <div class="form-group">
                  <label for="githubUrl" class="form-label">GitHub Profile</label>
                  <input type="url" id="githubUrl" formControlName="githubUrl" class="form-input"
                    placeholder="https://github.com/username">
                </div>
              </div>
            </div>
          </div>

          <!-- Address Information Card -->
          <div class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" stroke="currentColor" stroke-width="2" />
                  <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>Address Information</h3>
                <p>Your current location and mailing address</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="form-group">
                <label for="street" class="form-label">Street Address</label>
                <input type="text" id="street" formControlName="street" class="form-input"
                  placeholder="123 Main Street">
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="city" class="form-label">City</label>
                  <input type="text" id="city" formControlName="city" class="form-input" placeholder="San Francisco">
                </div>
                <div class="form-group">
                  <label for="state" class="form-label">State/Province</label>
                  <input type="text" id="state" formControlName="state" class="form-input" placeholder="CA">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="zipCode" class="form-label">ZIP/Postal Code</label>
                  <input type="text" id="zipCode" formControlName="zipCode" class="form-input" placeholder="94105">
                </div>
                <div class="form-group">
                  <label for="country" class="form-label">Country</label>
                  <input type="text" id="country" formControlName="country" class="form-input"
                    placeholder="United States">
                </div>
              </div>
            </div>
          </div>

          <!-- Company Information Card (Company Users Only) -->
          <div *ngIf="currentUser?.role === 'company'" class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M3 21h18" stroke="currentColor" stroke-width="2" />
                  <path d="M5 21V7l8-4v18" stroke="currentColor" stroke-width="2" />
                  <path d="M19 21V11l-6-4" stroke="currentColor" stroke-width="2" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>Company Details</h3>
                <p>Business information and company profile</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="form-group">
                <label for="companyName" class="form-label">Company Name *</label>
                <input type="text" id="companyName" formControlName="companyName" class="form-input"
                  [class.error]="getFieldError('companyName')">
                <div *ngIf="getFieldError('companyName')" class="field-error">
                  {{ getFieldError('companyName') }}
                </div>
              </div>

              <div class="form-group">
                <label for="companyDescription" class="form-label">Company Description</label>
                <textarea id="companyDescription" formControlName="companyDescription" class="form-textarea" rows="4"
                  placeholder="Brief description of your company..."></textarea>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="companyWebsite" class="form-label">Company Website</label>
                  <input type="url" id="companyWebsite" formControlName="companyWebsite" class="form-input"
                    placeholder="https://company.com">
                </div>
                <div class="form-group">
                  <label for="companySize" class="form-label">Company Size</label>
                  <select id="companySize" formControlName="companySize" class="form-select">
                    <option value="">Select size</option>
                    <option value="1-10">1-10 employees</option>
                    <option value="11-50">11-50 employees</option>
                    <option value="51-200">51-200 employees</option>
                    <option value="201-500">201-500 employees</option>
                    <option value="501-1000">501-1000 employees</option>
                    <option value="1000+">1000+ employees</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <label for="industry" class="form-label">Industry</label>
                <select id="industry" formControlName="industry" class="form-select">
                  <option value="">Select industry</option>
                  <option value="technology">Technology</option>
                  <option value="healthcare">Healthcare</option>
                  <option value="finance">Finance</option>
                  <option value="education">Education</option>
                  <option value="retail">Retail</option>
                  <option value="manufacturing">Manufacturing</option>
                  <option value="consulting">Consulting</option>
                  <option value="media">Media & Entertainment</option>
                  <option value="nonprofit">Non-profit</option>
                  <option value="other">Other</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Form Actions -->
          <div class="form-actions-card">
            <button type="button" (click)="toggleEditProfile()" class="btn-secondary">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" />
                <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" />
              </svg>
              Cancel
            </button>
            <button type="submit" class="btn-primary" [disabled]="isLoading">
              <span *ngIf="isLoading" class="loading-spinner"></span>
              <svg *ngIf="!isLoading" width="16" height="16" viewBox="0 0 24 24" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" />
                <polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2" />
              </svg>
              {{ isLoading ? 'Saving...' : 'Save Changes' }}
            </button>
          </div>
        </form>

        <div *ngIf="!isEditingProfile" class="personal-info-list">
          <div class="personal-info-item">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">{{ currentUser?.role === 'company' ? 'Contact Information' : 'Basic
                  Information' }}</h3>
                <p class="personal-info-description">{{ currentUser?.role === 'company' ? 'Company contact details and
                  representative information' : 'Personal details and contact information' }}</p>
                <p class="personal-info-meta">Member since {{ formatDate(currentUser?.createdAt) }}</p>
              </div>

            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Full Name</span>
                  <span class="personal-info-text">
                    {{ (userProfile?.personalInfo?.firstName || currentUser?.firstName) }}
                    {{ (userProfile?.personalInfo?.lastName || currentUser?.lastName) }}
                  </span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">Email Address</span>
                  <span class="personal-info-text">{{ (userProfile?.personalInfo?.email || currentUser?.email) }}</span>
                </div>
                <div class="personal-info-value" *ngIf="userProfile?.personalInfo?.phone">
                  <span class="personal-info-label">Phone Number</span>
                  <span class="personal-info-text">{{ userProfile?.personalInfo?.phone }}</span>
                </div>
                <div class="personal-info-value"
                  *ngIf="userProfile?.personalInfo?.address && (userProfile?.personalInfo?.address?.city || userProfile?.personalInfo?.address?.state)">
                  <span class="personal-info-label">Location</span>
                  <span class="personal-info-text">
                    <span *ngIf="userProfile?.personalInfo?.address?.city">{{ userProfile?.personalInfo?.address?.city
                      }}</span><span
                      *ngIf="userProfile?.personalInfo?.address?.city && userProfile?.personalInfo?.address?.state">,
                    </span><span *ngIf="userProfile?.personalInfo?.address?.state">{{
                      userProfile?.personalInfo?.address?.state }}</span>
                  </span>
                </div>
              </div>
            </div>
          </div>

          <div class="personal-info-item"
            *ngIf="userProfile?.personalInfo?.linkedinUrl || userProfile?.personalInfo?.portfolioUrl || userProfile?.personalInfo?.githubUrl">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Professional Links</h3>
                <p class="personal-info-description">Online presence and portfolio</p>
                <p class="personal-info-meta">External profile links and websites</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value" *ngIf="userProfile?.personalInfo?.linkedinUrl">
                  <span class="personal-info-label">LinkedIn</span>
                  <a [href]="userProfile?.personalInfo?.linkedinUrl" target="_blank" class="personal-info-link">
                    View Profile
                  </a>
                </div>
                <div class="personal-info-value" *ngIf="userProfile?.personalInfo?.portfolioUrl">
                  <span class="personal-info-label">Portfolio</span>
                  <a [href]="userProfile?.personalInfo?.portfolioUrl" target="_blank" class="personal-info-link">
                    View Website
                  </a>
                </div>
                <div class="personal-info-value" *ngIf="userProfile?.personalInfo?.githubUrl">
                  <span class="personal-info-label">GitHub</span>
                  <a [href]="userProfile?.personalInfo?.githubUrl" target="_blank" class="personal-info-link">
                    View Repository
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="personal-info-item"
            *ngIf="userProfile?.personalInfo?.address && userProfile?.personalInfo?.address?.street">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Address Information</h3>
                <p class="personal-info-description">Complete mailing address</p>
                <p class="personal-info-meta">Physical location and postal details</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Street Address</span>
                  <span class="personal-info-text">{{ userProfile?.personalInfo?.address?.street }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">City & State</span>
                  <span class="personal-info-text">{{ userProfile?.personalInfo?.address?.city }}, {{
                    userProfile?.personalInfo?.address?.state }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">ZIP Code</span>
                  <span class="personal-info-text">{{ userProfile?.personalInfo?.address?.zipCode }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">Country</span>
                  <span class="personal-info-text">{{ userProfile?.personalInfo?.address?.country }}</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Company Information Display (Company Users Only) -->
          <div *ngIf="currentUser?.role === 'company'" class="personal-info-item">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Company Details</h3>
                <p class="personal-info-description">Business information and company profile</p>
                <p class="personal-info-meta">Company overview and business details</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Company Name</span>
                  <span class="personal-info-text">{{ currentUser?.companyName || 'Not specified' }}</span>
                </div>
                <div class="personal-info-value" *ngIf="currentUser?.industry">
                  <span class="personal-info-label">Industry</span>
                  <span class="personal-info-text">{{ currentUser?.industry | titlecase }}</span>
                </div>
                <div class="personal-info-value" *ngIf="currentUser?.companySize">
                  <span class="personal-info-label">Company Size</span>
                  <span class="personal-info-text">{{ currentUser?.companySize }}</span>
                </div>
                <div class="personal-info-value" *ngIf="currentUser?.companyWebsite">
                  <span class="personal-info-label">Website</span>
                  <a [href]="currentUser?.companyWebsite" target="_blank" class="personal-info-link">
                    Visit Website
                  </a>
                </div>
                <div class="personal-info-value full-width" *ngIf="currentUser?.companyDescription">
                  <span class="personal-info-label">Description</span>
                  <span class="personal-info-text">{{ currentUser?.companyDescription }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>



      <!-- Job Postings Section (Company) -->
      <div *ngIf="activeSection === 'jobs' && currentUser?.role === 'company'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">Job Postings</h2>
          <button class="btn-primary" (click)="navigateToCreateJob()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2" />
              <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" />
            </svg>
            Post New Job
          </button>
        </div>

        <div *ngIf="companyJobs.length === 0" class="empty-state">
          <div class="empty-state-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" stroke="currentColor" stroke-width="2" />
            </svg>
          </div>
          <h3 class="empty-state-title">No Job Postings Yet</h3>
          <p class="empty-state-description">Start attracting top talent by posting your first job opening.</p>
          <button class="btn-primary" (click)="navigateToCreateJob()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2" />
              <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" />
            </svg>
            Post Your First Job
          </button>
        </div>

        <div *ngIf="companyJobs.length > 0" class="jobs-list">
          <div *ngFor="let job of companyJobs" class="job-card">
            <div class="job-card-header">
              <div class="job-info">
                <h3 class="job-title">{{ job.title }}</h3>
                <p class="job-meta">
                  <span class="job-location">{{ job.location }}</span>
                  <span class="job-type">{{ job.type }}</span>
                  <span class="job-posted">Posted {{ getTimeAgo(job.postedDate) }}</span>
                </p>
              </div>
              <div class="job-status">
                <span class="status-badge" [class]="'status-' + (job.status || 'active').toLowerCase()">
                  {{ job.status || 'Active' }}
                </span>
              </div>
            </div>
            <div class="job-card-content">
              <p class="job-description">{{ job.description | slice:0:150 }}{{ job.description.length > 150 ? '...' : ''
                }}</p>
              <div class="job-stats">
                <div class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" />
                    <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" />
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" />
                    <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" />
                  </svg>
                  <span>{{ getJobApplicationCount(job.id) }} applications</span>
                </div>
                <div class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" />
                  </svg>
                  <span>{{ getDaysUntilDeadline(job.applicationDeadline) }} days left</span>
                </div>
              </div>
            </div>
            <div class="job-card-actions">
              <button class="btn-secondary" (click)="viewJobApplications(job.id)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" />
                  <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" />
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" />
                  <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" />
                </svg>
                View Applications
              </button>
              <button class="btn-secondary" (click)="editJob(job.id)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor"
                    stroke-width="2" />
                  <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor"
                    stroke-width="2" />
                </svg>
                Edit
              </button>
              <button class="btn-destructive" (click)="deleteJob(job.id)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" />
                  <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                    stroke="currentColor" stroke-width="2" />
                </svg>
                Delete
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Applications Section (Company) -->
      <div *ngIf="activeSection === 'applications' && currentUser?.role === 'company'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">Job Applications</h2>
          <div class="filter-controls">
            <select [(ngModel)]="selectedJobFilter" (change)="filterApplications()" class="form-select">
              <option value="">All Jobs</option>
              <option *ngFor="let job of companyJobs" [value]="job.id">{{ job.title }}</option>
            </select>
            <select [(ngModel)]="selectedStatusFilter" (change)="filterApplications()" class="form-select">
              <option value="">All Status</option>
              <option value="pending">Pending</option>
              <option value="reviewed">Reviewed</option>
              <option value="shortlisted">Shortlisted</option>
              <option value="rejected">Rejected</option>
            </select>
          </div>
        </div>

        <div *ngIf="filteredApplications.length === 0" class="empty-state">
          <div class="empty-state-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" />
              <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" />
              <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" />
            </svg>
          </div>
          <h3 class="empty-state-title">No Applications Yet</h3>
          <p class="empty-state-description">Applications will appear here once candidates start applying to your job
            postings.</p>
        </div>

        <div *ngIf="filteredApplications.length > 0" class="applications-list">
          <div *ngFor="let application of filteredApplications" class="application-card">
            <div class="application-header">
              <div class="applicant-info">
                <div class="applicant-avatar">
                  {{ getInitials(application.applicationData.personalInfo.firstName + ' ' +
                  application.applicationData.personalInfo.lastName) }}
                </div>
                <div class="applicant-details">
                  <h3 class="applicant-name">{{ application.applicationData.personalInfo.firstName }} {{
                    application.applicationData.personalInfo.lastName }}</h3>
                  <p class="application-job">Applied for: {{ getJobTitle(application.jobId) }}</p>
                  <p class="application-date">{{ getTimeAgo(application.submittedAt) }}</p>
                </div>
              </div>
              <div class="application-status">
                <select [(ngModel)]="application.status" (change)="updateApplicationStatus(application)"
                  class="status-select">
                  <option value="pending">Pending</option>
                  <option value="reviewed">Reviewed</option>
                  <option value="shortlisted">Shortlisted</option>
                  <option value="rejected">Rejected</option>
                </select>
              </div>
            </div>
            <div class="application-content">
              <p class="cover-letter" *ngIf="application.applicationData.coverLetter">
                <strong>Cover Letter:</strong> {{ application.applicationData.coverLetter | slice:0:200 }}{{
                application.applicationData.coverLetter.length > 200 ? '...' : '' }}
              </p>
              <div class="application-actions">
                <button class="btn-secondary" (click)="viewApplication(application)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="currentColor" stroke-width="2" />
                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" />
                  </svg>
                  View Details
                </button>
                <button class="btn-secondary" *ngIf="application.applicationData.resume"
                  (click)="downloadResume(application.applicationData.resume.fileUrl)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2" />
                    <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2" />
                    <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" />
                  </svg>
                  Download Resume
                </button>
                <button class="btn-primary" (click)="contactApplicant(application)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
                      stroke="currentColor" stroke-width="2" />
                    <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2" />
                  </svg>
                  Contact
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>



      <!-- Professional Information Section -->
      <div *ngIf="activeSection === 'professional'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">Professional Information</h2>
          <button *ngIf="!isEditingProfessional" (click)="toggleEditProfessional()" class="btn-secondary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor"
                stroke-width="2" />
              <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor"
                stroke-width="2" />
            </svg>
            Edit Professional Info
          </button>
        </div>

        <!-- Professional Info Display Mode -->
        <div *ngIf="userProfile && !isEditingProfessional" class="personal-info-list">
          <div class="personal-info-item">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Current Position</h3>
                <p class="personal-info-description">Professional role and experience overview</p>
                <p class="personal-info-meta">{{ userProfile.professionalInfo.yearsOfExperience || 0 }} years of
                  experience</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Current Title</span>
                  <span class="personal-info-text">{{ userProfile.professionalInfo.currentTitle || 'Not specified'
                    }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">Years of Experience</span>
                  <span class="personal-info-text">{{ userProfile.professionalInfo.yearsOfExperience || 0 }}
                    years</span>
                </div>
              </div>
            </div>
          </div>

          <div class="personal-info-item" *ngIf="userProfile.professionalInfo.summary">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Professional Summary</h3>
                <p class="personal-info-description">Career overview and professional background</p>
                <p class="personal-info-meta">Professional profile summary</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value full-width">
                  <span class="personal-info-label">Summary</span>
                  <span class="personal-info-text">{{ userProfile.professionalInfo.summary }}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="personal-info-item"
            *ngIf="userProfile.professionalInfo.skills && userProfile.professionalInfo.skills.length > 0">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Skills</h3>
                <p class="personal-info-description">Technical and professional skills</p>
                <p class="personal-info-meta">{{ userProfile.professionalInfo.skills.length }} skills listed</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="skills-display">
                <span *ngFor="let skill of userProfile.professionalInfo.skills" class="skill-tag">{{ skill }}</span>
              </div>
            </div>
          </div>

          <div class="personal-info-item"
            *ngIf="userProfile.professionalInfo.preferredJobTypes && userProfile.professionalInfo.preferredJobTypes.length > 0">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Preferred Job Types</h3>
                <p class="personal-info-description">Employment preferences and work arrangements</p>
                <p class="personal-info-meta">{{ userProfile.professionalInfo.preferredJobTypes.length }} preferences
                  set</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="skills-display">
                <span *ngFor="let type of userProfile.professionalInfo.preferredJobTypes" class="skill-tag">{{ type
                  }}</span>
              </div>
            </div>
          </div>

          <div class="personal-info-item"
            *ngIf="userProfile.professionalInfo.expectedSalary && (userProfile.professionalInfo.expectedSalary.min > 0 || userProfile.professionalInfo.expectedSalary.max > 0)">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Expected Salary Range</h3>
                <p class="personal-info-description">Compensation expectations and currency</p>
                <p class="personal-info-meta">Salary range in {{ userProfile.professionalInfo.expectedSalary.currency }}
                </p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Salary Range</span>
                  <span class="personal-info-text">
                    {{ userProfile.professionalInfo.expectedSalary.currency }}
                    {{ userProfile.professionalInfo.expectedSalary.min | number:'1.0-0' }} -
                    {{ userProfile.professionalInfo.expectedSalary.max | number:'1.0-0' }}
                  </span>
                </div>
              </div>
            </div>
          </div>

          <div class="personal-info-item"
            *ngIf="userProfile.professionalInfo.preferredLocations && userProfile.professionalInfo.preferredLocations.length > 0">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Preferred Locations</h3>
                <p class="personal-info-description">Geographic preferences for work</p>
                <p class="personal-info-meta">{{ userProfile.professionalInfo.preferredLocations.length }} locations
                  preferred</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="skills-display">
                <span *ngFor="let location of userProfile.professionalInfo.preferredLocations" class="skill-tag">{{
                  location }}</span>
              </div>
            </div>
          </div>

          <div class="personal-info-item" *ngIf="userProfile.professionalInfo.jobAlertFrequency">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Job Alert Frequency</h3>
                <p class="personal-info-description">How often you receive job notifications</p>
                <p class="personal-info-meta">Alerts sent {{ userProfile.professionalInfo.jobAlertFrequency }}</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Frequency</span>
                  <span class="personal-info-text">{{ userProfile.professionalInfo.jobAlertFrequency | titlecase
                    }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Professional Info Edit Mode -->
        <form *ngIf="isEditingProfessional" [formGroup]="professionalForm" (ngSubmit)="onProfessionalSubmit()"
          class="profile-edit-form">
          <!-- Basic Professional Information Card -->
          <div class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
                  <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" stroke="currentColor" stroke-width="2" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>Professional Details</h3>
                <p>Your current role and professional experience</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="form-row">
                <div class="form-group">
                  <label for="currentTitle" class="form-label">Current Title *</label>
                  <input type="text" id="currentTitle" formControlName="currentTitle" class="form-input"
                    placeholder="e.g. Frontend Developer"
                    [class.error]="getFieldError('currentTitle', professionalForm)">
                  <div *ngIf="getFieldError('currentTitle', professionalForm)" class="field-error">
                    {{ getFieldError('currentTitle', professionalForm) }}
                  </div>
                </div>
                <div class="form-group">
                  <label for="yearsOfExperience" class="form-label">Years of Experience *</label>
                  <input type="number" id="yearsOfExperience" formControlName="yearsOfExperience" class="form-input"
                    placeholder="5" min="0" [class.error]="getFieldError('yearsOfExperience', professionalForm)">
                  <div *ngIf="getFieldError('yearsOfExperience', professionalForm)" class="field-error">
                    {{ getFieldError('yearsOfExperience', professionalForm) }}
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="summary" class="form-label">Professional Summary *</label>
                <textarea id="summary" formControlName="summary" class="form-textarea" rows="4"
                  placeholder="Brief summary of your professional background..."
                  [class.error]="getFieldError('summary', professionalForm)"></textarea>
                <div *ngIf="getFieldError('summary', professionalForm)" class="field-error">
                  {{ getFieldError('summary', professionalForm) }}
                </div>
              </div>
            </div>
          </div>

          <!-- Skills Card -->
          <div class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                    stroke="currentColor" stroke-width="2" fill="none" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>Skills & Expertise</h3>
                <p>Technical and professional skills you possess</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="skills-input">
                <div class="add-skill-container">
                  <input type="text" [(ngModel)]="newSkill" [ngModelOptions]="{standalone: true}" class="form-input"
                    placeholder="Add a skill" (keyup.enter)="addSkill()">
                  <button type="button" (click)="addSkill()" class="btn-secondary">Add</button>
                </div>
                <div class="skills-list">
                  <span *ngFor="let skill of professionalForm.get('skills')?.value" class="skill-tag">
                    {{ skill }}
                    <button type="button" (click)="removeSkill(skill)" class="remove-btn">×</button>
                  </span>
                </div>
              </div>
            </div>
          </div>

          <!-- Job Preferences Card -->
          <div class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" stroke="currentColor" stroke-width="2" />
                  <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>Job Preferences</h3>
                <p>Your preferred job types and work locations</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="form-group">
                <label class="form-label">Preferred Job Types</label>
                <div class="skills-input">
                  <div class="add-skill-container">
                    <input type="text" [(ngModel)]="newJobType" [ngModelOptions]="{standalone: true}" class="form-input"
                      placeholder="e.g. Full-time, Remote, Contract" (keyup.enter)="addJobType()">
                    <button type="button" (click)="addJobType()" class="btn-secondary">Add</button>
                  </div>
                  <div class="skills-list">
                    <span *ngFor="let type of professionalForm.get('preferredJobTypes')?.value" class="skill-tag">
                      {{ type }}
                      <button type="button" (click)="removeJobType(type)" class="remove-btn">×</button>
                    </span>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="form-label">Preferred Locations</label>
                <div class="skills-input">
                  <div class="add-skill-container">
                    <input type="text" [(ngModel)]="newLocation" [ngModelOptions]="{standalone: true}"
                      class="form-input" placeholder="e.g. New York, Remote, San Francisco"
                      (keyup.enter)="addLocation()">
                    <button type="button" (click)="addLocation()" class="btn-secondary">Add</button>
                  </div>
                  <div class="skills-list">
                    <span *ngFor="let location of professionalForm.get('preferredLocations')?.value" class="skill-tag">
                      {{ location }}
                      <button type="button" (click)="removeLocation(location)" class="remove-btn">×</button>
                    </span>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="jobAlertFrequency" class="form-label">Job Alert Frequency</label>
                <select id="jobAlertFrequency" formControlName="jobAlertFrequency" class="form-select">
                  <option value="daily">Daily</option>
                  <option value="weekly">Weekly</option>
                  <option value="monthly">Monthly</option>
                  <option value="never">Never</option>
                </select>
                <small class="form-help">How often you want to receive job alerts matching your preferences</small>
              </div>
            </div>
          </div>

          <!-- Salary Expectations Card -->
          <div class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <line x1="12" y1="1" x2="12" y2="23" stroke="currentColor" stroke-width="2" />
                  <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke="currentColor" stroke-width="2" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>Salary Expectations</h3>
                <p>Your expected compensation range</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="salary-inputs">
                <div class="salary-group">
                  <label class="salary-label">Minimum</label>
                  <input type="number" formControlName="expectedSalaryMin" class="form-input" placeholder="50000"
                    min="0">
                </div>
                <div class="salary-group">
                  <label class="salary-label">Maximum</label>
                  <input type="number" formControlName="expectedSalaryMax" class="form-input" placeholder="80000"
                    min="0">
                </div>
                <div class="salary-group">
                  <label class="salary-label">Currency</label>
                  <select formControlName="expectedSalaryCurrency" class="form-select">
                    <option value="USD">USD</option>
                    <option value="EUR">EUR</option>
                    <option value="GBP">GBP</option>
                    <option value="CAD">CAD</option>
                    <option value="INR">INR</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Form Actions -->
          <div class="form-actions-card">
            <button type="button" (click)="toggleEditProfessional()" class="btn-secondary">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" />
                <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" />
              </svg>
              Cancel
            </button>
            <button type="submit" class="btn-primary" [disabled]="isLoading">
              <span *ngIf="isLoading" class="loading-spinner"></span>
              <svg *ngIf="!isLoading" width="16" height="16" viewBox="0 0 24 24" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" />
                <polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2" />
              </svg>
              {{ isLoading ? 'Saving...' : 'Save Changes' }}
            </button>
          </div>
        </form>

        <div *ngIf="!userProfile && !isEditingProfessional" class="no-profile">
          <div class="no-profile-content">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" stroke="currentColor" stroke-width="2" />
            </svg>
            <h3>No Professional Information</h3>
            <p>Complete your professional profile to enhance your job applications.</p>
            <button class="btn-primary" (click)="toggleEditProfessional()">
              Create Professional Profile
            </button>
          </div>
        </div>
      </div>

      <!-- Education Section -->
      <div *ngIf="activeSection === 'education'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">Education</h2>
          <button *ngIf="!isEditingEducation" (click)="toggleEditEducation()" class="btn-secondary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2" />
              <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" />
            </svg>
            Add Education
          </button>
        </div>

        <!-- Education Display Mode -->
        <div *ngIf="userProfile?.education && (userProfile?.education?.length || 0) > 0 && !isEditingEducation"
          class="personal-info-list">
          <div *ngFor="let edu of userProfile?.education" class="personal-info-item">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">{{ edu.degree }} in {{ edu.field }}</h3>
                <p class="personal-info-description">{{ edu.institution }}</p>
                <p class="personal-info-meta">{{ edu.startDate | date:'MMM yyyy' }} - {{ edu.endDate ? (edu.endDate |
                  date:'MMM yyyy') : 'Present' }}</p>
              </div>
              <div class="personal-info-actions">
                <button class="btn-secondary" (click)="editEducation(edu)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor"
                      stroke-width="2" />
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor"
                      stroke-width="2" />
                  </svg>
                  Edit
                </button>
                <button class="btn-danger" (click)="deleteEducation(edu.id)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" />
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                      stroke="currentColor" stroke-width="2" />
                  </svg>
                  Delete
                </button>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Institution</span>
                  <span class="personal-info-text">{{ edu.institution }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">Degree</span>
                  <span class="personal-info-text">{{ edu.degree }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">Field of Study</span>
                  <span class="personal-info-text">{{ edu.field }}</span>
                </div>
                <div class="personal-info-value" *ngIf="edu.gpa">
                  <span class="personal-info-label">GPA</span>
                  <span class="personal-info-text">{{ edu.gpa }}</span>
                </div>
                <div class="personal-info-value full-width" *ngIf="edu.description">
                  <span class="personal-info-label">Description</span>
                  <span class="personal-info-text">{{ edu.description }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Education Edit Mode -->
        <form *ngIf="isEditingEducation" [formGroup]="educationForm" (ngSubmit)="onEducationSubmit()"
          class="profile-edit-form">
          <div class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke="currentColor" stroke-width="2" />
                  <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" stroke="currentColor"
                    stroke-width="2" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>Education Details</h3>
                <p>Add your educational background and qualifications</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="form-row">
                <div class="form-group">
                  <label for="institution" class="form-label">Institution *</label>
                  <input type="text" id="institution" formControlName="institution" class="form-input"
                    placeholder="e.g. Harvard University" [class.error]="getFieldError('institution', educationForm)">
                  <div *ngIf="getFieldError('institution', educationForm)" class="field-error">
                    {{ getFieldError('institution', educationForm) }}
                  </div>
                </div>
                <div class="form-group">
                  <label for="degree" class="form-label">Degree *</label>
                  <input type="text" id="degree" formControlName="degree" class="form-input"
                    placeholder="e.g. Bachelor of Science" [class.error]="getFieldError('degree', educationForm)">
                  <div *ngIf="getFieldError('degree', educationForm)" class="field-error">
                    {{ getFieldError('degree', educationForm) }}
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="field" class="form-label">Field of Study *</label>
                <input type="text" id="field" formControlName="field" class="form-input"
                  placeholder="e.g. Computer Science" [class.error]="getFieldError('field', educationForm)">
                <div *ngIf="getFieldError('field', educationForm)" class="field-error">
                  {{ getFieldError('field', educationForm) }}
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="startDate" class="form-label">Start Date *</label>
                  <input type="date" id="startDate" formControlName="startDate" class="form-input"
                    [class.error]="getFieldError('startDate', educationForm)">
                  <div *ngIf="getFieldError('startDate', educationForm)" class="field-error">
                    {{ getFieldError('startDate', educationForm) }}
                  </div>
                </div>
                <div class="form-group">
                  <label for="endDate" class="form-label">End Date</label>
                  <input type="date" id="endDate" formControlName="endDate" class="form-input"
                    [disabled]="educationForm.get('isCurrentlyStudying')?.value">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="gpa" class="form-label">GPA/Grade</label>
                  <input type="text" id="gpa" formControlName="gpa" class="form-input"
                    placeholder="e.g. 3.8 or First Class">
                </div>
                <div class="form-group">
                  <div class="checkbox-group">
                    <input type="checkbox" id="isCurrentlyStudying" formControlName="isCurrentlyStudying"
                      class="form-checkbox" (change)="onCurrentlyStudyingChange($event)">
                    <label for="isCurrentlyStudying" class="checkbox-label">Currently studying here</label>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="description" class="form-label">Description</label>
                <textarea id="description" formControlName="description" class="form-textarea" rows="3"
                  placeholder="Describe your studies, achievements, or relevant coursework..."></textarea>
              </div>
            </div>
          </div>

          <!-- Form Actions -->
          <div class="form-actions-card">
            <button type="button" (click)="toggleEditEducation()" class="btn-secondary">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" />
                <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" />
              </svg>
              Cancel
            </button>
            <button type="submit" class="btn-primary" [disabled]="isLoading">
              <span *ngIf="isLoading" class="loading-spinner"></span>
              <svg *ngIf="!isLoading" width="16" height="16" viewBox="0 0 24 24" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" />
                <polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2" />
              </svg>
              {{ isLoading ? 'Saving...' : (editingEducationId ? 'Update Education' : 'Add Education') }}
            </button>
          </div>
        </form>

        <!-- No Education State -->
        <div *ngIf="(!userProfile?.education || userProfile?.education?.length === 0) && !isEditingEducation"
          class="no-profile">
          <div class="no-profile-content">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke="currentColor" stroke-width="2" />
              <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" stroke="currentColor"
                stroke-width="2" />
            </svg>
            <h3>No Education Added</h3>
            <p>Add your educational background to strengthen your profile.</p>
            <button class="btn-primary" (click)="toggleEditEducation()">
              Add Education
            </button>
          </div>
        </div>
      </div>

      <!-- Work Experience Section -->
      <div *ngIf="activeSection === 'experience'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">Work Experience</h2>
          <button *ngIf="!isEditingExperience" (click)="toggleEditExperience()" class="btn-secondary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2" />
              <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" />
            </svg>
            Add Experience
          </button>
        </div>

        <!-- Experience Display Mode -->
        <div *ngIf="userProfile?.experience && (userProfile?.experience?.length || 0) > 0 && !isEditingExperience"
          class="personal-info-list">
          <div *ngFor="let exp of userProfile?.experience" class="personal-info-item">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">{{ exp.position }}</h3>
                <p class="personal-info-description">{{ exp.company }}</p>
                <p class="personal-info-meta">{{ exp.startDate | date:'MMM yyyy' }} - {{ exp.endDate ? (exp.endDate |
                  date:'MMM yyyy') : 'Present' }}</p>
              </div>
              <div class="personal-info-actions">
                <button class="btn-secondary" (click)="editExperience(exp)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor"
                      stroke-width="2" />
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor"
                      stroke-width="2" />
                  </svg>
                  Edit
                </button>
                <button class="btn-danger" (click)="deleteExperience(exp.id)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" />
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                      stroke="currentColor" stroke-width="2" />
                  </svg>
                  Delete
                </button>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Company</span>
                  <span class="personal-info-text">{{ exp.company }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">Position</span>
                  <span class="personal-info-text">{{ exp.position }}</span>
                </div>
                <div class="personal-info-value" *ngIf="exp.location">
                  <span class="personal-info-label">Location</span>
                  <span class="personal-info-text">{{ exp.location }}</span>
                </div>

                <div class="personal-info-value full-width" *ngIf="exp.description">
                  <span class="personal-info-label">Description</span>
                  <span class="personal-info-text">{{ exp.description }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Experience Edit Mode -->
        <form *ngIf="isEditingExperience" [formGroup]="experienceForm" (ngSubmit)="onExperienceSubmit()"
          class="profile-edit-form">
          <div class="form-card">
            <div class="form-card-header">
              <div class="form-card-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
                  <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" stroke="currentColor" stroke-width="2" />
                </svg>
              </div>
              <div class="form-card-title">
                <h3>Work Experience</h3>
                <p>Add your professional work experience and achievements</p>
              </div>
            </div>
            <div class="form-card-content">
              <div class="form-row">
                <div class="form-group">
                  <label for="company" class="form-label">Company *</label>
                  <input type="text" id="company" formControlName="company" class="form-input"
                    placeholder="e.g. Google Inc." [class.error]="getFieldError('company', experienceForm)">
                  <div *ngIf="getFieldError('company', experienceForm)" class="field-error">
                    {{ getFieldError('company', experienceForm) }}
                  </div>
                </div>
                <div class="form-group">
                  <label for="position" class="form-label">Position *</label>
                  <input type="text" id="position" formControlName="position" class="form-input"
                    placeholder="e.g. Senior Software Engineer"
                    [class.error]="getFieldError('position', experienceForm)">
                  <div *ngIf="getFieldError('position', experienceForm)" class="field-error">
                    {{ getFieldError('position', experienceForm) }}
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="location" class="form-label">Location</label>
                <input type="text" id="location" formControlName="location" class="form-input"
                  placeholder="e.g. San Francisco, CA">
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="startDate" class="form-label">Start Date *</label>
                  <input type="date" id="startDate" formControlName="startDate" class="form-input"
                    [class.error]="getFieldError('startDate', experienceForm)">
                  <div *ngIf="getFieldError('startDate', experienceForm)" class="field-error">
                    {{ getFieldError('startDate', experienceForm) }}
                  </div>
                </div>
                <div class="form-group">
                  <label for="endDate" class="form-label">End Date</label>
                  <input type="date" id="endDate" formControlName="endDate" class="form-input"
                    [disabled]="experienceForm.get('isCurrentPosition')?.value">
                </div>
              </div>
              <div class="form-group">
                <div class="checkbox-group">
                  <input type="checkbox" id="isCurrentPosition" formControlName="isCurrentPosition"
                    class="form-checkbox" (change)="onCurrentPositionChange($event)">
                  <label for="isCurrentPosition" class="checkbox-label">I currently work here</label>
                </div>
              </div>
              <div class="form-group">
                <label for="description" class="form-label">Description</label>
                <textarea id="description" formControlName="description" class="form-textarea" rows="4"
                  placeholder="Describe your role, responsibilities, and achievements..."></textarea>
              </div>
            </div>
          </div>

          <!-- Form Actions -->
          <div class="form-actions-card">
            <button type="button" (click)="toggleEditExperience()" class="btn-secondary">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" />
                <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" />
              </svg>
              Cancel
            </button>
            <button type="submit" class="btn-primary" [disabled]="isLoading">
              <span *ngIf="isLoading" class="loading-spinner"></span>
              <svg *ngIf="!isLoading" width="16" height="16" viewBox="0 0 24 24" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" />
                <polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2" />
              </svg>
              {{ isLoading ? 'Saving...' : (editingExperienceId ? 'Update Experience' : 'Add Experience') }}
            </button>
          </div>
        </form>

        <!-- No Experience State -->
        <div *ngIf="(!userProfile?.experience || userProfile?.experience?.length === 0) && !isEditingExperience"
          class="no-profile">
          <div class="no-profile-content">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" stroke="currentColor" stroke-width="2" />
            </svg>
            <h3>No Work Experience Added</h3>
            <p>Add your work experience to showcase your professional background.</p>
            <button class="btn-primary" (click)="toggleEditExperience()">
              Add Experience
            </button>
          </div>
        </div>
      </div>

      <!-- Resume Section -->
      <div *ngIf="activeSection === 'resume'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">Resume</h2>
          <p class="section-description">Upload and manage your resume</p>
        </div>

        <div class="personal-info-list">
          <div class="personal-info-item" *ngIf="userProfile?.resume">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Current Resume</h3>
                <p class="personal-info-description">Your uploaded resume document</p>
                <p class="personal-info-meta">Uploaded on {{ userProfile?.resume?.uploadedAt | date:'mediumDate' }}</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">File Name</span>
                  <span class="personal-info-text">{{ userProfile?.resume?.fileName }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">File Size</span>
                  <span class="personal-info-text">{{ ((userProfile?.resume?.fileSize || 0) / 1024 / 1024).toFixed(2) }}
                    MB</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">Upload Date</span>
                  <span class="personal-info-text">{{ userProfile?.resume?.uploadedAt | date:'mediumDate' }}</span>
                </div>
              </div>
              <div class="personal-info-actions">
                <button class="btn-secondary" (click)="downloadResume()">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2" />
                    <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2" />
                    <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" />
                  </svg>
                  Download
                </button>
                <button class="btn-secondary" (click)="replaceResume()">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor"
                      stroke-width="2" />
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor"
                      stroke-width="2" />
                  </svg>
                  Replace
                </button>
              </div>
            </div>
          </div>

          <div class="personal-info-item" *ngIf="!userProfile?.resume">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Upload Resume</h3>
                <p class="personal-info-description">Add your resume to enhance your job applications</p>
                <p class="personal-info-meta">Supported formats: PDF, DOC, DOCX (Max 5MB)</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="upload-area">
                <div class="upload-icon">
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor"
                      stroke-width="2" />
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" />
                    <line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2" />
                    <line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2" />
                    <polyline points="10,9 9,9 8,9" stroke="currentColor" stroke-width="2" />
                  </svg>
                </div>
                <p class="upload-text">Click to upload your resume</p>
                <p class="upload-subtext">PDF, DOC, DOCX up to 5MB</p>
                <input type="file" id="resume-upload-new" accept=".pdf,.doc,.docx" style="display: none;"
                  (change)="onResumeSelected($event)">
                <label for="resume-upload-new" class="btn-primary">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2" />
                    <polyline points="17,8 12,3 7,8" stroke="currentColor" stroke-width="2" />
                    <line x1="12" y1="3" x2="12" y2="15" stroke="currentColor" stroke-width="2" />
                  </svg>
                  Upload Resume
                </label>
              </div>
            </div>
          </div>

          <!-- Hidden file input for replace functionality -->
          <input type="file" id="resume-upload" accept=".pdf,.doc,.docx" style="display: none;"
            (change)="onResumeSelected($event)">
        </div>
      </div>

      <!-- Preferences Section -->
      <div *ngIf="activeSection === 'preferences'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">Preferences</h2>
          <p class="section-description">Customize your experience</p>
        </div>

        <div class="personal-info-list">
          <div class="personal-info-item">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Application Settings</h3>
                <p class="personal-info-description">Manage your application preferences and notifications</p>
                <p class="personal-info-meta">Configure how you receive updates and notifications</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Settings Access</span>
                  <span class="personal-info-text">Manage preferences in settings</span>
                </div>
              </div>
              <div class="personal-info-actions">
                <a routerLink="/settings" class="btn-secondary">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                      stroke="currentColor" stroke-width="2" />
                  </svg>
                  Go to Settings
                </a>
              </div>
            </div>
          </div>

          <div class="personal-info-item">
            <div class="personal-info-header">
              <div class="personal-info-details">
                <h3 class="personal-info-title">Account Information</h3>
                <p class="personal-info-description">Your account type and membership details</p>
                <p class="personal-info-meta">Account status and role information</p>
              </div>
            </div>
            <div class="personal-info-content">
              <div class="personal-info-grid">
                <div class="personal-info-value">
                  <span class="personal-info-label">Account Type</span>
                  <span class="personal-info-text">{{ getRoleDisplayName() }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">Member Since</span>
                  <span class="personal-info-text">{{ currentUser?.createdAt | date:'mediumDate' }}</span>
                </div>
                <div class="personal-info-value">
                  <span class="personal-info-label">Account Status</span>
                  <span class="personal-info-text">Active</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Admin Settings Section -->
      <div *ngIf="activeSection === 'admin'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">Admin Settings</h2>
          <p class="section-description">Platform administration settings</p>
        </div>

        <div class="preferences-list">
          <div class="preference-item">
            <div class="preference-info">
              <h3 class="preference-title">Platform Settings</h3>
              <p class="preference-description">Configure platform-wide settings and preferences</p>
            </div>
            <a routerLink="/settings" class="btn-secondary">
              Go to Settings
            </a>
          </div>

          <div class="preference-item">
            <div class="preference-info">
              <h3 class="preference-title">System Administration</h3>
              <p class="preference-description">Access advanced admin tools and configuration</p>
            </div>
            <a routerLink="/settings" class="btn-secondary">
              Manage System
            </a>
          </div>
        </div>
      </div>





      <!-- User Management Section -->
      <div *ngIf="activeSection === 'users'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">User Management</h2>
          <p class="section-description">Manage platform users and their roles</p>
        </div>

        <!-- Success Message -->
        <div *ngIf="successMessage" class="success-message">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" />
            <polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2" />
          </svg>
          {{ successMessage }}
        </div>

        <!-- Error Message -->
        <div *ngIf="errorMessage" class="error-message">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
            <line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2" />
            <line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2" />
          </svg>
          {{ errorMessage }}
        </div>

        <!-- User Search and Filters -->
        <div class="filters-section">
          <!-- Search Bar -->
          <div class="search-group">
            <div class="search-input-wrapper">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" />
                <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" />
              </svg>
              <input type="text" [(ngModel)]="userSearchQuery" (input)="onUserSearchChange()"
                placeholder="Search users by full name, email, company, or location..." class="search-input" />
            </div>
          </div>

          <!-- Filters -->
          <div class="filters-row">
            <div class="filter-group">
              <label for="userRoleFilter" class="filter-label">Filter by Role:</label>
              <select id="userRoleFilter" [(ngModel)]="selectedUserRoleFilter" (change)="filterUsers()"
                class="filter-select">
                <option value="">All Roles</option>
                <option value="job-seeker">Job Seekers</option>
                <option value="company">Companies</option>
                <option value="admin">Administrators</option>
              </select>
            </div>
            <div class="filter-group">
              <label for="userStatusFilter" class="filter-label">Filter by Status:</label>
              <select id="userStatusFilter" [(ngModel)]="selectedUserStatusFilter" (change)="filterUsers()"
                class="filter-select">
                <option value="">All Status</option>
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
              </select>
            </div>
            <div class="filter-group" *ngIf="userSearchQuery || selectedUserRoleFilter || selectedUserStatusFilter">
              <button type="button" (click)="clearUserFilters()" class="btn-secondary clear-filters-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" />
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" />
                </svg>
                Clear Filters
              </button>
            </div>
          </div>
        </div>

        <!-- Results Counter -->
        <div class="results-counter" *ngIf="allUsers.length > 0">
          <p class="results-text">{{ getUserResultsText() }}</p>
        </div>

        <!-- Users List -->
        <div *ngIf="filteredUsers.length > 0" class="users-list">
          <div *ngFor="let user of filteredUsers" class="user-card">
            <div class="user-header">
              <div class="user-info">
                <div class="user-avatar">
                  {{ user.firstName.charAt(0) }}{{ user.lastName.charAt(0) }}
                </div>
                <div class="user-details">
                  <h3 class="user-name">{{ user.firstName }} {{ user.lastName }}</h3>
                  <p class="user-email">{{ user.email }}</p>
                  <p class="user-meta">
                    <span class="user-role">{{ getUserRoleDisplayName(user.role) }}</span>
                    <span class="user-joined">Joined {{ formatDate(user.createdAt) }}</span>
                  </p>
                </div>
              </div>
              <div class="user-status">
                <label class="toggle-switch">
                  <input type="checkbox" [(ngModel)]="user.isActive" (change)="updateUserStatus(user)">
                  <span class="toggle-slider"></span>
                </label>
                <span class="status-text">{{ user.isActive ? 'Active' : 'Inactive' }}</span>
              </div>
            </div>

            <div class="user-content">
              <div class="user-stats" *ngIf="user.role !== 'admin'">
                <div class="stat-item" *ngIf="user.role === 'job-seeker'">
                  <span class="stat-label">Applications:</span>
                  <span class="stat-value">{{ user.jobApplicationsCount || 0 }}</span>
                </div>
                <div class="stat-item" *ngIf="user.role === 'company'">
                  <span class="stat-label">Job Postings:</span>
                  <span class="stat-value">{{ user.jobPostingsCount || 0 }}</span>
                </div>
                <div class="stat-item" *ngIf="user.companyName">
                  <span class="stat-label">Company:</span>
                  <span class="stat-value">{{ user.companyName }}</span>
                </div>
                <div class="stat-item" *ngIf="user.location">
                  <span class="stat-label">Location:</span>
                  <span class="stat-value">{{ user.location }}</span>
                </div>
                <div class="stat-item" *ngIf="user.lastLoginAt">
                  <span class="stat-label">Last Login:</span>
                  <span class="stat-value">{{ getTimeAgoAdmin(user.lastLoginAt) }}</span>
                </div>
              </div>

              <div class="user-actions">
                <div class="role-selector">
                  <label for="role-{{ user.id }}" class="role-label">Role:</label>
                  <select id="role-{{ user.id }}" [value]="user.role" (change)="onUserRoleChange(user, $event)"
                    class="role-select">
                    <option value="job-seeker">Job Seeker</option>
                    <option value="company">Company</option>
                    <option value="admin">Administrator</option>
                  </select>
                </div>
                <button class="btn-danger" (click)="deleteUser(user)"
                  [disabled]="(user.role === 'admin' && user.id === currentUser?.id) || isLoading">
                  <svg *ngIf="!isLoading" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" />
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                      stroke="currentColor" stroke-width="2" />
                  </svg>
                  <svg *ngIf="isLoading" class="loading-spinner" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                      stroke-dasharray="31.416" stroke-dashoffset="31.416">
                      <animate attributeName="stroke-dasharray" dur="2s" values="0 31.416;15.708 15.708;0 31.416"
                        repeatCount="indefinite" />
                      <animate attributeName="stroke-dashoffset" dur="2s" values="0;-15.708;-31.416"
                        repeatCount="indefinite" />
                    </circle>
                  </svg>
                  {{ isLoading ? 'Deleting...' : 'Delete' }}
                </button>
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="filteredUsers.length === 0 && allUsers.length > 0" class="no-filtered-users">
          <div class="no-results-content">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" />
              <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" />
            </svg>
            <h3>No Users Found</h3>
            <p>No users match your search criteria or selected filters.</p>
            <p class="search-suggestion">Try adjusting your search terms or clearing the filters.</p>
          </div>
        </div>

        <div *ngIf="allUsers.length === 0" class="no-users">
          <div class="no-users-content">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" />
              <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" />
              <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" />
            </svg>
            <h3>No Users Found</h3>
            <p>No users are currently registered on the platform.</p>
          </div>
        </div>
      </div>

      <!-- Job Management Section for Admin -->
      <div *ngIf="activeSection === 'jobs' && currentUser?.role === 'admin'" class="profile-section">
        <div class="section-header">
          <h2 class="section-title">Job Management</h2>
          <p class="section-description">Oversee all job postings on the platform</p>
        </div>

        <!-- Success Message -->
        <div *ngIf="successMessage" class="success-message">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2" />
            <polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2" />
          </svg>
          {{ successMessage }}
        </div>

        <!-- Error Message -->
        <div *ngIf="errorMessage" class="error-message">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
            <line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2" />
            <line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2" />
          </svg>
          {{ errorMessage }}
        </div>

        <!-- Job Management Stats -->
        <div *ngIf="jobManagementStats" class="job-stats-grid">
          <div class="stat-card">
            <div class="stat-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" stroke="currentColor" stroke-width="2" />
              </svg>
            </div>
            <div class="stat-content">
              <h3 class="stat-number">{{ jobManagementStats.totalJobs }}</h3>
              <p class="stat-label">Total Jobs</p>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon active">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2" />
              </svg>
            </div>
            <div class="stat-content">
              <h3 class="stat-number">{{ jobManagementStats.activeJobs }}</h3>
              <p class="stat-label">Active Jobs</p>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon paused">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="6" y="4" width="4" height="16" stroke="currentColor" stroke-width="2" />
                <rect x="14" y="4" width="4" height="16" stroke="currentColor" stroke-width="2" />
              </svg>
            </div>
            <div class="stat-content">
              <h3 class="stat-number">{{ jobManagementStats.pausedJobs }}</h3>
              <p class="stat-label">Paused Jobs</p>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon expired">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                <line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2" />
                <line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2" />
              </svg>
            </div>
            <div class="stat-content">
              <h3 class="stat-number">{{ jobManagementStats.expiredJobs }}</h3>
              <p class="stat-label">Expired Jobs</p>
            </div>
          </div>
        </div>

        <!-- Job Search and Filters -->
        <div class="filters-section">
          <!-- Search Bar -->
          <div class="search-group">
            <div class="search-input-wrapper">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" />
                <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" />
              </svg>
              <input type="text" [(ngModel)]="jobSearchQuery" (input)="onJobSearchChange()"
                placeholder="Search jobs by title, company, location, skills, or contact..." class="search-input" />
            </div>
          </div>

          <!-- Filters -->
          <div class="filters-row">
            <div class="filter-group">
              <label for="jobStatusFilter" class="filter-label">Filter by Status:</label>
              <select id="jobStatusFilter" [(ngModel)]="selectedJobStatusFilter" (change)="filterJobsForAdmin()"
                class="filter-select">
                <option value="">All Status</option>
                <option value="active">Active</option>
                <option value="paused">Paused</option>
                <option value="expired">Expired</option>
              </select>
            </div>
            <div class="filter-group" *ngIf="jobSearchQuery || selectedJobStatusFilter">
              <button type="button" (click)="clearJobFilters()" class="btn-secondary clear-filters-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" />
                  <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" />
                </svg>
                Clear Filters
              </button>
            </div>
          </div>
        </div>

        <!-- Results Counter -->
        <div class="results-counter" *ngIf="allJobsForAdmin.length > 0">
          <p class="results-text">{{ getJobResultsText() }}</p>
        </div>

        <!-- Jobs List -->
        <div *ngIf="filteredJobsForAdmin.length > 0" class="admin-jobs-list">
          <div *ngFor="let job of filteredJobsForAdmin" class="admin-job-card">
            <div class="admin-job-header">
              <div class="admin-job-info">
                <h3 class="admin-job-title">{{ job.title }}</h3>
                <p class="admin-job-company">{{ job.company }}</p>
                <p class="admin-job-meta">
                  <span class="admin-job-location">{{ job.location }}</span>
                  <span class="admin-job-type">{{ job.type }}</span>
                  <span class="admin-job-salary">{{ job.salary }}</span>
                </p>
              </div>
              <div class="admin-job-status">
                <span class="status-badge" [class]="getJobStatusClass(job)">
                  {{ getJobStatusDisplayName(job) }}
                </span>
              </div>
            </div>

            <div class="admin-job-content">
              <div class="admin-job-stats">
                <div class="admin-stat-item">
                  <span class="admin-stat-label">Applications:</span>
                  <span class="admin-stat-value">{{ job.applicationCount }}</span>
                </div>
                <div class="admin-stat-item">
                  <span class="admin-stat-label">Posted:</span>
                  <span class="admin-stat-value">{{ getTimeAgoAdmin(job.postedDate) }}</span>
                </div>
                <div class="admin-stat-item">
                  <span class="admin-stat-label">Deadline:</span>
                  <span class="admin-stat-value">{{ formatDate(job.applicationDeadline) }}</span>
                </div>
                <div class="admin-stat-item" *ngIf="job.companyContact">
                  <span class="admin-stat-label">Contact:</span>
                  <span class="admin-stat-value">{{ job.companyContact }}</span>
                </div>
                <div class="admin-stat-item" *ngIf="job.companyEmail">
                  <span class="admin-stat-label">Email:</span>
                  <span class="admin-stat-value">{{ job.companyEmail }}</span>
                </div>
              </div>

              <div class="admin-job-actions">
                <label class="toggle-switch">
                  <input type="checkbox" [(ngModel)]="job.isActive" (change)="updateJobStatusAsAdmin(job)">
                  <span class="toggle-slider"></span>
                </label>
                <span class="toggle-text">{{ job.isActive ? 'Active' : 'Paused' }}</span>

                <button class="btn-secondary" [routerLink]="['/jobs', job.id]">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="currentColor" stroke-width="2" />
                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" />
                  </svg>
                  View
                </button>

                <button class="btn-danger" (click)="deleteJobAsAdmin(job)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" />
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                      stroke="currentColor" stroke-width="2" />
                  </svg>
                  Delete
                </button>
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="filteredJobsForAdmin.length === 0 && allJobsForAdmin.length > 0" class="no-filtered-jobs">
          <div class="no-results-content">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" />
              <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" />
            </svg>
            <h3>No Jobs Found</h3>
            <p>No jobs match your search criteria or selected filters.</p>
            <p class="search-suggestion">Try adjusting your search terms or clearing the filters.</p>
          </div>
        </div>

        <div *ngIf="allJobsForAdmin.length === 0" class="no-jobs">
          <div class="no-jobs-content">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" stroke="currentColor" stroke-width="2" />
            </svg>
            <h3>No Jobs Found</h3>
            <p>No job postings are currently available on the platform.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>