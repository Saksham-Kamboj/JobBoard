<div class="auth-container">
  <div class="auth-card">
    <!-- Header -->
    <div class="auth-header">
      <div class="logo">
        <div class="logo-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 6L9 17L4 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </div>
        <span class="logo-text">JobBoard</span>
      </div>
      <h1 class="auth-title">Create Account</h1>
      <p class="auth-subtitle">Join our platform to find your dream job or hire top talent</p>
    </div>

    <!-- Sign Up Form -->
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="auth-form">
      <!-- Role Selection -->
      <div class="form-group">
        <label class="form-label">I want to</label>
        <div class="role-selection">
          <button type="button" class="role-btn" [class.active]="role?.value === 'job-seeker'"
            (click)="onRoleChange('job-seeker')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" />
              <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" />
            </svg>
            <div class="role-content">
              <span class="role-title">Find Jobs</span>
              <span class="role-subtitle">I'm looking for opportunities</span>
            </div>
          </button>
          <button type="button" class="role-btn" [class.active]="role?.value === 'company'"
            (click)="onRoleChange('company')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 21h18" stroke="currentColor" stroke-width="2" />
              <path d="M5 21V7l8-4v18" stroke="currentColor" stroke-width="2" />
              <path d="M19 21V11l-6-4" stroke="currentColor" stroke-width="2" />
            </svg>
            <div class="role-content">
              <span class="role-title">Post Jobs</span>
              <span class="role-subtitle">I represent a company</span>
            </div>
          </button>

        </div>
      </div>

      <!-- Name Fields -->
      <div class="name-row">
        <div class="form-group">
          <label for="firstName" class="form-label">First Name</label>
          <div class="input-group" [class.error]="hasFieldError('firstName')">
            <input type="text" id="firstName" formControlName="firstName" placeholder="Enter first name"
              class="form-input name-input" [class.error]="hasFieldError('firstName')">
          </div>
          <div class="error-message" *ngIf="hasFieldError('firstName')">
            {{ getFieldError('firstName') }}
          </div>
        </div>

        <div class="form-group">
          <label for="lastName" class="form-label">Last Name</label>
          <div class="input-group" [class.error]="hasFieldError('lastName')">
            <input type="text" id="lastName" formControlName="lastName" placeholder="Enter last name"
              class="form-input name-input" [class.error]="hasFieldError('lastName')">
          </div>
          <div class="error-message" *ngIf="hasFieldError('lastName')">
            {{ getFieldError('lastName') }}
          </div>
        </div>
      </div>

      <!-- Company-specific fields -->
      <div *ngIf="role?.value === 'company'" class="company-fields">
        <div class="form-group">
          <label for="companyName" class="form-label">Company Name</label>
          <div class="input-group" [class.error]="hasFieldError('companyName')">
            <div class="input-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 21h18" stroke="currentColor" stroke-width="2" />
                <path d="M5 21V7l8-4v18" stroke="currentColor" stroke-width="2" />
                <path d="M19 21V11l-6-4" stroke="currentColor" stroke-width="2" />
              </svg>
            </div>
            <input type="text" id="companyName" formControlName="companyName" placeholder="Enter company name"
              class="form-input" [class.error]="hasFieldError('companyName')">
          </div>
          <div class="error-message" *ngIf="hasFieldError('companyName')">
            {{ getFieldError('companyName') }}
          </div>
        </div>

        <div class="form-group">
          <label for="companyWebsite" class="form-label">Company Website</label>
          <div class="input-group" [class.error]="hasFieldError('companyWebsite')">
            <div class="input-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                <line x1="2" y1="12" x2="22" y2="12" stroke="currentColor" stroke-width="2" />
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
                  stroke="currentColor" stroke-width="2" />
              </svg>
            </div>
            <input type="url" id="companyWebsite" formControlName="companyWebsite" placeholder="https://company.com"
              class="form-input" [class.error]="hasFieldError('companyWebsite')">
          </div>
          <div class="error-message" *ngIf="hasFieldError('companyWebsite')">
            {{ getFieldError('companyWebsite') }}
          </div>
        </div>

        <div class="company-row">
          <div class="form-group">
            <label for="companySize" class="form-label">Company Size</label>
            <div class="input-group" [class.error]="hasFieldError('companySize')">
              <select id="companySize" formControlName="companySize" class="form-select"
                [class.error]="hasFieldError('companySize')">
                <option value="">Select size</option>
                <option value="1-10">1-10 employees</option>
                <option value="11-50">11-50 employees</option>
                <option value="51-200">51-200 employees</option>
                <option value="201-500">201-500 employees</option>
                <option value="501-1000">501-1000 employees</option>
                <option value="1000+">1000+ employees</option>
              </select>
            </div>
            <div class="error-message" *ngIf="hasFieldError('companySize')">
              {{ getFieldError('companySize') }}
            </div>
          </div>

          <div class="form-group">
            <label for="industry" class="form-label">Industry</label>
            <div class="input-group" [class.error]="hasFieldError('industry')">
              <select id="industry" formControlName="industry" class="form-select"
                [class.error]="hasFieldError('industry')">
                <option value="">Select industry</option>
                <option value="technology">Technology</option>
                <option value="healthcare">Healthcare</option>
                <option value="finance">Finance</option>
                <option value="education">Education</option>
                <option value="retail">Retail</option>
                <option value="manufacturing">Manufacturing</option>
                <option value="consulting">Consulting</option>
                <option value="media">Media & Entertainment</option>
                <option value="nonprofit">Non-profit</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="error-message" *ngIf="hasFieldError('industry')">
              {{ getFieldError('industry') }}
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="companyDescription" class="form-label">Company Description</label>
          <div class="input-group" [class.error]="hasFieldError('companyDescription')">
            <textarea id="companyDescription" formControlName="companyDescription"
              placeholder="Brief description of your company..." rows="3" class="form-textarea"
              [class.error]="hasFieldError('companyDescription')"></textarea>
          </div>
          <div class="error-message" *ngIf="hasFieldError('companyDescription')">
            {{ getFieldError('companyDescription') }}
          </div>
        </div>
      </div>

      <!-- Email Field -->
      <div class="form-group">
        <label for="email" class="form-label">Email Address</label>
        <div class="input-group" [class.error]="hasFieldError('email')">
          <div class="input-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
                stroke="currentColor" stroke-width="2" />
              <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2" />
            </svg>
          </div>
          <input type="email" id="email" formControlName="email" placeholder="Enter your email" class="form-input"
            [class.error]="hasFieldError('email')">
        </div>
        <div class="error-message" *ngIf="hasFieldError('email')">
          {{ getFieldError('email') }}
        </div>
      </div>

      <!-- Password Field -->
      <div class="form-group">
        <label for="password" class="form-label">Password</label>
        <div class="input-group" [class.error]="hasFieldError('password')">
          <div class="input-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
              <circle cx="12" cy="16" r="1" fill="currentColor" />
              <path d="M7 11V7a5 5 0 0 1 10 0v4" stroke="currentColor" stroke-width="2" />
            </svg>
          </div>
          <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password"
            placeholder="Create a password" class="form-input" [class.error]="hasFieldError('password')">
          <button type="button" (click)="togglePasswordVisibility()" class="password-toggle"
            aria-label="Toggle password visibility">
            <svg *ngIf="!showPassword" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="currentColor" stroke-width="2" />
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" />
            </svg>
            <svg *ngIf="showPassword" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"
                stroke="currentColor" stroke-width="2" />
              <line x1="1" y1="1" x2="23" y2="23" stroke="currentColor" stroke-width="2" />
            </svg>
          </button>
        </div>
        <div class="error-message" *ngIf="hasFieldError('password')">
          {{ getFieldError('password') }}
        </div>
      </div>

      <!-- Confirm Password Field -->
      <div class="form-group">
        <label for="confirmPassword" class="form-label">Confirm Password</label>
        <div class="input-group" [class.error]="hasFieldError('confirmPassword')">
          <div class="input-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2" />
              <circle cx="12" cy="16" r="1" fill="currentColor" />
              <path d="M7 11V7a5 5 0 0 1 10 0v4" stroke="currentColor" stroke-width="2" />
            </svg>
          </div>
          <input [type]="showConfirmPassword ? 'text' : 'password'" id="confirmPassword"
            formControlName="confirmPassword" placeholder="Confirm your password" class="form-input"
            [class.error]="hasFieldError('confirmPassword')">
          <button type="button" (click)="toggleConfirmPasswordVisibility()" class="password-toggle"
            aria-label="Toggle confirm password visibility">
            <svg *ngIf="!showConfirmPassword" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="currentColor" stroke-width="2" />
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" />
            </svg>
            <svg *ngIf="showConfirmPassword" width="20" height="20" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"
                stroke="currentColor" stroke-width="2" />
              <line x1="1" y1="1" x2="23" y2="23" stroke="currentColor" stroke-width="2" />
            </svg>
          </button>
        </div>
        <div class="error-message" *ngIf="hasFieldError('confirmPassword')">
          {{ getFieldError('confirmPassword') }}
        </div>
      </div>

      <!-- Terms Agreement -->
      <div class="form-group">
        <label class="checkbox-label" [class.error]="hasFieldError('agreeToTerms')">
          <input type="checkbox" formControlName="agreeToTerms" class="checkbox">
          <span class="checkbox-text">
            I agree to the <a routerLink="/terms" class="terms-link">Terms of Service</a> and
            <a routerLink="/privacy" class="terms-link">Privacy Policy</a>
          </span>
        </label>
        <div class="error-message" *ngIf="hasFieldError('agreeToTerms')">
          {{ getFieldError('agreeToTerms') }}
        </div>
      </div>

      <!-- Error Message -->
      <div class="error-alert" *ngIf="errorMessage">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
          <line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2" />
          <line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2" />
        </svg>
        {{ errorMessage }}
      </div>

      <!-- Submit Button -->
      <button type="submit" class="submit-btn" [disabled]="isLoading || !signupForm.valid">
        <svg *ngIf="isLoading" class="loading-spinner" width="20" height="20" viewBox="0 0 24 24" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path d="M21 12a9 9 0 11-6.219-8.56" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
        <span *ngIf="!isLoading">Create Account</span>
        <span *ngIf="isLoading">Creating Account...</span>
      </button>
    </form>

    <!-- Sign In Link -->
    <div class="auth-footer">
      <p>Already have an account? <a routerLink="/auth/signin" class="auth-link">Sign in</a></p>
    </div>
  </div>
</div>